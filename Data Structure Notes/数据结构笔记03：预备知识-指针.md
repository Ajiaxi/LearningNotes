## 预备知识

- 指针
- 结构体
- 动态内存的分配

## 指针

### 1.定义

地址：是内存单元的编号，内存是CPU唯一可以访问的大容量的设备，因此需要先将硬盘的数据导入到内存。

指针：指针就是地址，地址就是指针。

指针变量：是存放内存单元地址的变量。

### 2. 分类

####2.1 基本类型指针

```C
# include <stdio.h>
int main(void){
    int * p;	//p是变量的名字，int * 表示该p变量只能存储int类型变量的地址
    int i = 10;
    int j;
   
    p = &i;		
    j = *p;		//*p就是i,如果没有上面的代码，*p是一串数字，可能是某个位置变量的地址
}
```

内存的释放是指，程序对内存已经没有了访问权限，但是内存中的原有数据不会被清空。

```c
#include <stdio.h>
int f(int p){
    p = 100;
}

int main(void){
   	int i = 9;
    f(i);
    //此时i还是9，因为这里是一个局部变量的问题
}
```

如果想改变i的值：

```c
# include <stdio.h>
int f(int *p){ //不是定义了一个名字叫做*p的形参，而是定义了一个形参，该形参的名字叫做p，它的类型是Int 
    *p = 100;
}

int main(void){
   	int i = 9;
    f(&i);
    //此时i就变成了100，因为f函数中传入的是一个地址
}
```

####2.2 指针和数组的关系

```c
# include <stdio.h>
int main(void){
	int a[5] = {1,2,3,4,5}; 
    //数组名是一个指针常量，存放的是第一个元素的地址
    // a[i]等价于*(a+i)
}
```

####2.3 指针的运算

p+i 等价于 p+ i*（p所指向变量的字节数）

p-i 等价于 p-i*（p所指向变量的字节数）

p++ 等价于 p+1

p-- 等价于 p-1

注意：所有的指针变量只占4个字节，用第一个字节的地址表示整个变量的地址。而不管该指针指向的变量的大小是多少，指针所指向的只有一个地址，占4个字节。

```c
# include <stdio.h>
int main(void){
	double * p;
    double x = 66.6;
    
    p = &x; // x占8个字节，每个字节有8位，但是p所存的是第一个字节的地址，而不是所有的8个字节的地址。
}
```

